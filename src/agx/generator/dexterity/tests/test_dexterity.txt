Test agx.generator.dexterity
============================

Setup configuration and emulate main routine.
::

    >>> from zope.configuration.xmlconfig import XMLConfig
    >>> import agx.generator.dexterity.tests
    >>> XMLConfig('configure.zcml', agx.generator.dexterity.tests)()
    
    >>> import agx.core
    >>> XMLConfig('configure.zcml', agx.core)()
    
    >>> from agx.core.main import parse_options
    
    >>> import os
    >>> modelpath = os.path.join(datadir, 'agx.generator.dexterity-sample.uml')
    
    >>> import pkg_resources
    >>> subpath = 'profiles/pyegg.profile.uml'
    >>> eggprofilepath = \
    ...     pkg_resources.resource_filename('agx.generator.pyegg', subpath)
    
    >>> subpath = 'profiles/zca.profile.uml'
    >>> zcaprofilepath = \
    ...     pkg_resources.resource_filename('agx.generator.zca', subpath)
    
    >>> subpath = 'profiles/gs.profile.uml'
    >>> gsprofilepath = \
    ...     pkg_resources.resource_filename('agx.generator.gs', subpath)
    
    >>> subpath = 'profiles/dexterity.profile.uml'
    >>> dexterityprofilepath = \
    ...     pkg_resources.resource_filename('agx.generator.dexterity', subpath)
    
    >>> modelpaths = [modelpath, eggprofilepath, zcaprofilepath,
    ...     gsprofilepath, dexterityprofilepath]
    
    >>> outdir = os.path.join(datadir, 'agx.generator.dexterity-sample')
    >>> controller = agx.core.Controller()
    >>> target = controller(modelpaths, outdir)
    >>> target
    <Directory object '/.../agx.generator.gs/src/agx/generator/dexterity/tests/data/agx.generator.dexterity-sample' at ...>
